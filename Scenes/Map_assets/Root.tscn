[gd_scene load_steps=19 format=3 uid="uid://dlqb2pd3dvnwf"]

[ext_resource type="PackedScene" uid="uid://crnrnqimmb3wn" path="res://Scenes/Characters/Player.tscn" id="1_kdqto"]
[ext_resource type="Script" path="res://Player_actions.gd" id="2_34k83"]
[ext_resource type="Script" path="res://Y_rot.gd" id="3_xnqgp"]
[ext_resource type="PackedScene" uid="uid://bm6eivwkul622" path="res://Scenes/Characters/character.tscn" id="4_8l4qb"]
[ext_resource type="Shader" path="res://Shaders_and_materials/dither.gdshader" id="5_6r2y4"]
[ext_resource type="Texture2D" uid="uid://ue45w1gfqld1" path="res://addons/kenney_prototype_textures/dark/texture_07.png" id="5_xdlxt"]
[ext_resource type="PackedScene" uid="uid://eeovrx8s18t4" path="res://Scenes/Characters/Enemies.tscn" id="6_ncofg"]
[ext_resource type="PackedScene" uid="uid://celg4cwluy66t" path="res://Scenes/Map_assets/shooting range.tscn" id="7_wopm0"]

[sub_resource type="SphereShape3D" id="SphereShape3D_50b7q"]
radius = 0.279076

[sub_resource type="ShaderMaterial" id="ShaderMaterial_kxfvb"]
render_priority = 0
shader = ExtResource("5_6r2y4")

[sub_resource type="SphereMesh" id="SphereMesh_kiplt"]
flip_faces = true

[sub_resource type="NavigationMesh" id="NavigationMesh_m70fh"]
vertices = PackedVector3Array(48.7865, 0.89461, -42.0038, 48.7865, 0.89461, -48.7538, 42.5365, 0.89461, -48.7538, -36.7135, 0.89461, -48.7538, -48.7135, 0.89461, -48.7538, -48.7135, 0.89461, -42.0038, 48.7865, 0.89461, -42.0038, 42.5365, 0.89461, -48.7538, 36.5365, 0.89461, -48.7538, -36.7135, 0.89461, -48.7538, -48.7135, 0.89461, -42.0038, -48.7135, 0.89461, -35.0038, -30.7135, 0.89461, -48.7538, 48.7865, 0.89461, -35.0038, 48.7865, 0.89461, -42.0038, 36.5365, 0.89461, -48.7538, 30.2865, 0.89461, -48.7538, -6.21353, 0.89461, -48.7538, -12.2135, 0.89461, -48.7538, -11.2135, 0.89461, -21.2538, -3.21353, 0.89461, -21.2538, 4.78647, 0.89461, -21.2538, 18.0365, 0.89461, -48.7538, 12.0365, 0.89461, -48.7538, -30.7135, 0.89461, -48.7538, -48.7135, 0.89461, -35.0038, -48.7135, 0.89461, -28.2538, -24.4635, 0.89461, -48.7538, 48.7865, 0.89461, -28.2538, 48.7865, 0.89461, -35.0038, 30.2865, 0.89461, -48.7538, 24.2865, 0.89461, -48.7538, 4.78647, 0.89461, -21.2538, 12.0365, 0.89461, -48.7538, 0.0364723, 0.89461, -48.7538, -3.21353, 0.89461, -21.2538, -3.21353, 0.89461, -21.2538, 0.0364723, 0.89461, -48.7538, -6.21353, 0.89461, -48.7538, -18.4635, 0.89461, -48.7538, -24.4635, 0.89461, -48.7538, -48.7135, 0.89461, -28.2538, -48.7135, 0.89461, -21.2538, -11.2135, 0.89461, -21.2538, 4.78647, 0.89461, -21.2538, 48.7865, 0.89461, -21.2538, 48.7865, 0.89461, -28.2538, 24.2865, 0.89461, -48.7538, 18.0365, 0.89461, -48.7538, -11.2135, 0.89461, -21.2538, -12.2135, 0.89461, -48.7538, -18.4635, 0.89461, -48.7538, -48.7135, 0.89461, -18.0038, -11.2135, 0.89461, -18.0038, -11.9635, 0.89461, -18.7538, -11.9635, 0.89461, -20.5038, -11.2135, 0.89461, -21.2538, -48.7135, 0.89461, -21.2538, -48.7135, 0.89461, -18.0038, -11.9635, 0.89461, -18.7538, -11.9635, 0.89461, -20.5038, -48.7135, 0.89461, -21.2538, 48.7865, 0.89461, -21.2538, 4.78647, 0.89461, -21.2538, 5.53647, 0.89461, -20.5038, 5.53647, 0.89461, -18.7538, 4.78647, 0.89461, -18.0038, 48.7865, 0.89461, -18.0038, 48.7865, 0.89461, -18.0038, 48.7865, 0.89461, -21.2538, 5.53647, 0.89461, -20.5038, 5.53647, 0.89461, -18.7538, -11.2135, 0.89461, -18.0038, -48.7135, 0.89461, -18.0038, -48.7135, 0.89461, -11.5038, -11.2135, 0.89461, -18.0038, -48.7135, 0.89461, -11.5038, -48.7135, 0.89461, -4.75382, -5.46353, 0.89461, -4.75382, -3.21353, 0.89461, -18.0038, 5.28647, 0.89461, -4.75382, 48.7865, 0.89461, -11.5038, 48.7865, 0.89461, -18.0038, 4.78647, 0.89461, -18.0038, 4.28647, 0.89461, -4.75382, 5.28647, 0.89461, -4.75382, 48.7865, 0.89461, -4.75382, 48.7865, 0.89461, -11.5038, -3.21353, 0.89461, -18.0038, -5.46353, 0.89461, -4.75382, -4.71353, 0.89461, -4.75382, -3.21353, 0.89461, -18.0038, -4.71353, 0.89461, -4.75382, 4.28647, 0.89461, -4.75382, 4.78647, 0.89461, -18.0038, -10.7135, 0.89461, 2.49618, -6.21353, 0.89461, 1.99618, -6.21353, 0.89461, -4.00382, -12.2135, 0.89461, 3.49618, -10.7135, 0.89461, 2.49618, -6.21353, 0.89461, -4.00382, -48.7135, 0.89461, -4.75382, -48.7135, 0.89461, 1.74618, -48.7135, 0.89461, 21.9962, -4.71353, 0.89461, 21.9962, -11.4635, 0.89461, 21.7462, -48.7135, 0.89461, 21.9962, -11.4635, 0.89461, 21.7462, -12.2135, 0.89461, 20.9962, -48.7135, 0.89461, 15.2462, -48.7135, 0.89461, 21.9962, -12.2135, 0.89461, 20.9962, -12.2135, 0.89461, 12.2462, -6.21353, 0.89461, -4.00382, -5.46353, 0.89461, -4.75382, -48.7135, 0.89461, -4.75382, -48.7135, 0.89461, 8.49618, -48.7135, 0.89461, 15.2462, -12.2135, 0.89461, 12.2462, -48.7135, 0.89461, 8.49618, -12.2135, 0.89461, 12.2462, -12.2135, 0.89461, 3.49618, -48.7135, 0.89461, 1.74618, 4.28647, 0.89461, -4.75382, -4.71353, 0.89461, -4.75382, -3.96353, 0.89461, -4.00382, 3.53647, 0.89461, -4.00382, -3.96353, 0.89461, -4.00382, -3.96353, 0.89461, 2.24618, 3.53647, 0.89461, 2.24618, 3.53647, 0.89461, -4.00382, 6.03647, 0.89461, -4.00382, 6.03647, 0.89461, 2.24618, 10.5365, 0.89461, 2.49618, 6.03647, 0.89461, -4.00382, 10.5365, 0.89461, 2.49618, 12.0365, 0.89461, 3.49618, 48.7865, 0.89461, 1.74618, 48.7865, 0.89461, -4.75382, 11.2865, 0.89461, 21.7462, 4.53647, 0.89461, 21.9962, 48.7865, 0.89461, 21.9962, 12.0365, 0.89461, 20.9962, 11.2865, 0.89461, 21.7462, 48.7865, 0.89461, 21.9962, 12.0365, 0.89461, 20.9962, 48.7865, 0.89461, 21.9962, 48.7865, 0.89461, 15.2462, 12.0365, 0.89461, 12.2462, 48.7865, 0.89461, -4.75382, 5.28647, 0.89461, -4.75382, 6.03647, 0.89461, -4.00382, 12.0365, 0.89461, 12.2462, 48.7865, 0.89461, 15.2462, 48.7865, 0.89461, 8.49618, 12.0365, 0.89461, 3.49618, 12.0365, 0.89461, 12.2462, 48.7865, 0.89461, 8.49618, 48.7865, 0.89461, 1.74618, -3.96353, 5.14461, -2.50382, -3.96353, 5.14461, 2.74618, 3.78647, 5.14461, 2.74618, 3.78647, 5.14461, -2.50382, -5.46353, 0.89461, 4.49618, -9.71353, 0.89461, 4.99618, -9.71353, 0.89461, 12.2462, -0.213528, 0.89461, 19.4962, 9.53647, 0.89461, 19.4962, 9.53647, 0.89461, 12.2462, 5.03647, 0.89461, 4.49618, 9.53647, 0.89461, 12.2462, 9.53647, 0.89461, 4.99618, 5.03647, 0.89461, 4.49618, -9.71353, 0.89461, 12.2462, -9.71353, 0.89461, 19.4962, -0.213528, 0.89461, 19.4962, 42.5365, 0.89461, 48.7462, 48.7865, 0.89461, 48.7462, 48.7865, 0.89461, 41.9962, -48.7135, 0.89461, 41.9962, -48.7135, 0.89461, 48.7462, -36.7135, 0.89461, 48.7462, 36.5365, 0.89461, 48.7462, 42.5365, 0.89461, 48.7462, 48.7865, 0.89461, 41.9962, -48.7135, 0.89461, 35.2462, -48.7135, 0.89461, 41.9962, -36.7135, 0.89461, 48.7462, -30.7135, 0.89461, 48.7462, 36.5365, 0.89461, 48.7462, 48.7865, 0.89461, 41.9962, 48.7865, 0.89461, 35.2462, 30.2865, 0.89461, 48.7462, -4.71353, 0.89461, 21.9962, -18.4635, 0.89461, 48.7462, -12.2135, 0.89461, 48.7462, -4.71353, 0.89461, 21.9962, -12.2135, 0.89461, 48.7462, -6.21353, 0.89461, 48.7462, -48.7135, 0.89461, 28.4962, -48.7135, 0.89461, 35.2462, -30.7135, 0.89461, 48.7462, -24.4635, 0.89461, 48.7462, 30.2865, 0.89461, 48.7462, 48.7865, 0.89461, 35.2462, 48.7865, 0.89461, 28.4962, 24.2865, 0.89461, 48.7462, -4.71353, 0.89461, 21.9962, -6.21353, 0.89461, 48.7462, 0.0364723, 0.89461, 48.7462, 4.53647, 0.89461, 21.9962, 4.53647, 0.89461, 21.9962, 0.0364723, 0.89461, 48.7462, 12.0365, 0.89461, 48.7462, -4.71353, 0.89461, 21.9962, -48.7135, 0.89461, 21.9962, -48.7135, 0.89461, 28.4962, -24.4635, 0.89461, 48.7462, -18.4635, 0.89461, 48.7462, 24.2865, 0.89461, 48.7462, 48.7865, 0.89461, 28.4962, 48.7865, 0.89461, 21.9962, 4.53647, 0.89461, 21.9962, 18.0365, 0.89461, 48.7462, 4.53647, 0.89461, 21.9962, 12.0365, 0.89461, 48.7462, 18.0365, 0.89461, 48.7462)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(8, 7, 6), PackedInt32Array(9, 12, 10), PackedInt32Array(10, 12, 11), PackedInt32Array(14, 13, 15), PackedInt32Array(15, 13, 16), PackedInt32Array(18, 17, 19), PackedInt32Array(19, 17, 20), PackedInt32Array(23, 22, 21), PackedInt32Array(25, 24, 26), PackedInt32Array(26, 24, 27), PackedInt32Array(30, 29, 31), PackedInt32Array(31, 29, 28), PackedInt32Array(35, 34, 32), PackedInt32Array(32, 34, 33), PackedInt32Array(36, 38, 37), PackedInt32Array(39, 43, 40), PackedInt32Array(40, 43, 41), PackedInt32Array(41, 43, 42), PackedInt32Array(48, 47, 44), PackedInt32Array(44, 47, 46), PackedInt32Array(44, 46, 45), PackedInt32Array(51, 50, 49), PackedInt32Array(54, 53, 52), PackedInt32Array(57, 56, 55), PackedInt32Array(59, 58, 60), PackedInt32Array(60, 58, 61), PackedInt32Array(62, 64, 63), PackedInt32Array(67, 66, 65), PackedInt32Array(71, 70, 68), PackedInt32Array(68, 70, 69), PackedInt32Array(74, 73, 72), PackedInt32Array(79, 78, 75), PackedInt32Array(75, 78, 76), PackedInt32Array(76, 78, 77), PackedInt32Array(84, 83, 80), PackedInt32Array(80, 83, 81), PackedInt32Array(81, 83, 82), PackedInt32Array(87, 86, 85), PackedInt32Array(90, 89, 88), PackedInt32Array(94, 93, 91), PackedInt32Array(91, 93, 92), PackedInt32Array(97, 96, 95), PackedInt32Array(99, 98, 100), PackedInt32Array(100, 98, 102), PackedInt32Array(100, 102, 101), PackedInt32Array(105, 104, 103), PackedInt32Array(108, 107, 106), PackedInt32Array(110, 109, 111), PackedInt32Array(111, 109, 112), PackedInt32Array(113, 115, 114), PackedInt32Array(118, 117, 116), PackedInt32Array(122, 121, 119), PackedInt32Array(119, 121, 120), PackedInt32Array(126, 125, 123), PackedInt32Array(123, 125, 124), PackedInt32Array(130, 129, 127), PackedInt32Array(127, 129, 128), PackedInt32Array(133, 132, 131), PackedInt32Array(135, 134, 136), PackedInt32Array(136, 134, 137), PackedInt32Array(137, 134, 138), PackedInt32Array(141, 140, 139), PackedInt32Array(144, 143, 142), PackedInt32Array(146, 145, 147), PackedInt32Array(147, 145, 148), PackedInt32Array(151, 150, 149), PackedInt32Array(154, 153, 152), PackedInt32Array(158, 157, 155), PackedInt32Array(155, 157, 156), PackedInt32Array(162, 161, 159), PackedInt32Array(159, 161, 160), PackedInt32Array(164, 163, 165), PackedInt32Array(165, 163, 169), PackedInt32Array(165, 169, 166), PackedInt32Array(166, 169, 168), PackedInt32Array(166, 168, 167), PackedInt32Array(170, 172, 171), PackedInt32Array(175, 174, 173), PackedInt32Array(178, 177, 176), PackedInt32Array(181, 180, 179), PackedInt32Array(184, 183, 182), PackedInt32Array(186, 185, 187), PackedInt32Array(187, 185, 188), PackedInt32Array(190, 189, 191), PackedInt32Array(191, 189, 192), PackedInt32Array(195, 194, 193), PackedInt32Array(198, 197, 196), PackedInt32Array(200, 199, 201), PackedInt32Array(201, 199, 202), PackedInt32Array(203, 206, 204), PackedInt32Array(204, 206, 205), PackedInt32Array(208, 207, 209), PackedInt32Array(209, 207, 210), PackedInt32Array(213, 212, 211), PackedInt32Array(218, 217, 214), PackedInt32Array(214, 217, 216), PackedInt32Array(214, 216, 215), PackedInt32Array(223, 222, 219), PackedInt32Array(219, 222, 220), PackedInt32Array(220, 222, 221), PackedInt32Array(226, 225, 224)]
sample_partition_type = 1
agent_radius = 1.0
agent_max_climb = 1.0
agent_max_slope = 90.0
vertices_per_polygon = 12.0
detail_sample_distance = 7.97
filter_low_hanging_obstacles = true
filter_ledge_spans = true
filter_walkable_low_height_spans = true
filter_baking_aabb = AABB(0, 22.85, 0, 0, 0, 0)

[sub_resource type="BoxShape3D" id="BoxShape3D_x58i5"]
size = Vector3(100, 0.2, 100)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_a6x65"]
albedo_texture = ExtResource("5_xdlxt")
uv1_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_soirp"]
lightmap_size_hint = Vector2i(1004, 508)
add_uv2 = true
size = Vector3(100, 0.2, 100)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ijqgo"]
transparency = 1
albedo_color = Color(1, 1, 1, 0.435294)

[sub_resource type="BoxMesh" id="BoxMesh_8y1ey"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_pglwo"]
points = PackedVector3Array(0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5)

[node name="Root" type="Node"]

[node name="Player" parent="." instance=ExtResource("1_kdqto")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.44489, 2.8089, -6.44934)
script = ExtResource("2_34k83")

[node name="head" type="CollisionShape3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.355633, 0)
shape = SubResource("SphereShape3D_50b7q")
script = ExtResource("3_xnqgp")

[node name="finger" parent="Player/head" instance=ExtResource("4_8l4qb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2.14109, 0)

[node name="dither" type="MeshInstance3D" parent="Player"]
transform = Transform3D(0.59, 0, 0, 0, -2.57897e-08, -0.59, 0, 0.59, -2.57897e-08, -0.00406885, 0.387813, -0.0675206)
material_override = SubResource("ShaderMaterial_kxfvb")
mesh = SubResource("SphereMesh_kiplt")
skeleton = NodePath("../SubViewportContainer/SubViewport/Camera3D")

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0.337615, 2.33707, 1.74237)
light_color = Color(0.937255, 0.301961, 0, 1)
light_energy = 7.94
light_indirect_energy = 26.1
light_volumetric_fog_energy = 1.68
light_specular = 1.01
shadow_bias = 10.0
shadow_normal_bias = 1.2
shadow_reverse_cull_face = true
shadow_transmittance_bias = 4.907
shadow_blur = 10.0
distance_fade_enabled = true
distance_fade_begin = 69.7
omni_range = 40.0

[node name="Music Player" type="AudioStreamPlayer" parent="."]
autoplay = true

[node name="hydrant" parent="." instance=ExtResource("6_ncofg")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0.0307601, 3.41184, -23.6973)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.196609, -0.103978, 8.41852)
navigation_mesh = SubResource("NavigationMesh_m70fh")

[node name="shooting range" parent="NavigationRegion3D" instance=ExtResource("7_wopm0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.138, 0.61301, -0.199)

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.33107, 0)
collision_layer = 7
collision_mask = 7

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
shape = SubResource("BoxShape3D_x58i5")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0364709, -0.822962, -0.0038209)
material_override = SubResource("StandardMaterial3D_a6x65")
mesh = SubResource("BoxMesh_soirp")

[node name="StaticBody3D2" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2.54076)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3D2"]
transform = Transform3D(15.145, 0, 0, 0, 3.35, 0, 0, 0, 1, -3.23393, 2.06961, -22.1638)
material_override = SubResource("StandardMaterial3D_ijqgo")
mesh = SubResource("BoxMesh_8y1ey")
skeleton = NodePath("../../StaticBody3D2")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3D2"]
transform = Transform3D(15.145, 0, 0, 0, 3.35, 0, 0, 0, 1, -3.23393, 2.04063, -22.1638)
shape = SubResource("ConvexPolygonShape3D_pglwo")

[connection signal="dead" from="hydrant" to="Player" method="_on_hydrant_dead"]
