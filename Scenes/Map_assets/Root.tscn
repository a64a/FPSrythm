[gd_scene load_steps=19 format=3 uid="uid://dlqb2pd3dvnwf"]

[ext_resource type="PackedScene" uid="uid://crnrnqimmb3wn" path="res://Scenes/Characters/Player.tscn" id="1_kdqto"]
[ext_resource type="Script" path="res://Player_actions.gd" id="2_34k83"]
[ext_resource type="Script" path="res://Y_rot.gd" id="3_xnqgp"]
[ext_resource type="PackedScene" uid="uid://bm6eivwkul622" path="res://Scenes/Characters/character.tscn" id="4_8l4qb"]
[ext_resource type="Shader" path="res://Scenes/Characters/dither.gdshader" id="5_e55vd"]
[ext_resource type="Texture2D" uid="uid://ue45w1gfqld1" path="res://addons/kenney_prototype_textures/dark/texture_07.png" id="5_xdlxt"]
[ext_resource type="PackedScene" uid="uid://du1v2lcjcvhc0" path="res://Scenes/Characters/Enemies.tscn" id="6_ncofg"]
[ext_resource type="PackedScene" uid="uid://celg4cwluy66t" path="res://Scenes/Map_assets/shooting range.tscn" id="7_wopm0"]

[sub_resource type="SphereShape3D" id="SphereShape3D_50b7q"]
radius = 0.279076

[sub_resource type="ShaderMaterial" id="ShaderMaterial_kxfvb"]
render_priority = 0
shader = ExtResource("5_e55vd")

[sub_resource type="SphereMesh" id="SphereMesh_kiplt"]
flip_faces = true

[sub_resource type="NavigationMesh" id="NavigationMesh_m70fh"]
vertices = PackedVector3Array(-36.4635, 0.325, -48.5038, -48.4635, 0.325, -48.5038, -48.4635, 0.325, -35.5038, 48.5365, 0.325, -35.5038, 48.5365, 0.325, -48.5038, 36.0365, 0.325, -48.5038, -24.4635, 0.325, -48.5038, -36.4635, 0.325, -48.5038, -48.4635, 0.325, -35.5038, 48.5365, 0.325, -35.5038, 36.0365, 0.325, -48.5038, 24.0365, 0.325, -48.5038, -24.4635, 0.325, -48.5038, -48.4635, 0.325, -35.5038, -48.4635, 0.325, -22.0038, -11.4635, 0.325, -22.0038, -12.4635, 0.325, -48.5038, 5.03647, 0.325, -22.0038, 48.5365, 0.325, -22.0038, 48.5365, 0.325, -35.5038, 24.0365, 0.325, -48.5038, 12.0365, 0.325, -48.5038, 12.0365, 0.325, -48.5038, 0.0364723, 0.325, -48.5038, 5.03647, 0.325, -22.0038, 0.0364723, 0.325, -48.5038, -12.4635, 0.325, -48.5038, -11.4635, 0.325, -22.0038, 5.03647, 0.325, -22.0038, -48.4635, 0.325, -17.5038, -11.4635, 0.325, -17.5038, -12.4635, 0.325, -18.5038, -12.4635, 0.325, -21.0038, -11.4635, 0.325, -22.0038, -48.4635, 0.325, -22.0038, -48.4635, 0.325, -17.5038, -12.4635, 0.325, -18.5038, -12.4635, 0.325, -21.0038, -48.4635, 0.325, -22.0038, 48.5365, 0.325, -22.0038, 5.03647, 0.325, -22.0038, 6.03647, 0.325, -21.0038, 6.03647, 0.325, -18.5038, 5.03647, 0.325, -17.5038, 48.5365, 0.325, -17.5038, 48.5365, 0.325, -17.5038, 48.5365, 0.325, -22.0038, 6.03647, 0.325, -21.0038, 6.03647, 0.325, -18.5038, -11.4635, 0.325, -17.5038, -48.4635, 0.325, -17.5038, -48.4635, 0.325, -7.00382, -5.96353, 0.325, -7.00382, 5.53647, 0.325, -7.00382, 48.5365, 0.325, -7.00382, 48.5365, 0.325, -17.5038, 5.03647, 0.325, -17.5038, 5.03647, 0.325, -17.5038, -11.4635, 0.325, -17.5038, -5.96353, 0.325, -7.00382, 5.53647, 0.325, -7.00382, -11.4635, 0.325, 1.99618, -6.96353, 0.325, 1.99618, -6.96353, 0.325, -6.00382, -12.4635, 0.325, 2.99618, -11.4635, 0.325, 1.99618, -6.96353, 0.325, -6.00382, -48.4635, 0.325, -7.00382, -48.4635, 0.325, 7.49618, -48.4635, 0.325, 22.4962, -11.4635, 0.325, 22.4962, -12.4635, 0.325, 21.4962, -48.4635, 0.325, 7.49618, -48.4635, 0.325, 22.4962, -12.4635, 0.325, 21.4962, -12.4635, 0.325, 2.99618, -6.96353, 0.325, -6.00382, -5.96353, 0.325, -7.00382, -48.4635, 0.325, -7.00382, 6.53647, 0.325, -6.00382, 6.53647, 0.325, 1.99618, 11.5365, 0.325, 1.99618, 6.53647, 0.325, -6.00382, 11.5365, 0.325, 1.99618, 12.5365, 0.325, 2.99618, 48.5365, 0.325, 7.49618, 48.5365, 0.325, -7.00382, 12.5365, 0.325, 21.4962, 11.5365, 0.325, 22.4962, 48.5365, 0.325, 22.4962, 12.5365, 0.325, 21.4962, 48.5365, 0.325, 22.4962, 48.5365, 0.325, 7.49618, 12.5365, 0.325, 2.99618, 48.5365, 0.325, -7.00382, 5.53647, 0.325, -7.00382, 6.53647, 0.325, -6.00382, -3.46353, 1.325, -4.00382, -3.46353, 1.325, 1.49618, 3.03647, 1.325, 1.49618, 3.03647, 1.325, -4.00382, -3.96353, 5.325, -2.50382, -3.96353, 5.325, 2.49618, 3.53647, 5.325, 2.49618, 3.53647, 5.325, -2.50382, -8.96353, 1.325, 5.49618, -8.96353, 1.325, 18.9962, 9.03647, 1.325, 18.9962, 9.03647, 1.325, 5.49618, -48.4635, 0.325, 35.4962, -48.4635, 0.325, 48.4962, -36.4635, 0.325, 48.4962, 36.0365, 0.325, 48.4962, 48.5365, 0.325, 48.4962, 48.5365, 0.325, 35.4962, -48.4635, 0.325, 35.4962, -36.4635, 0.325, 48.4962, -24.4635, 0.325, 48.4962, 24.0365, 0.325, 48.4962, 36.0365, 0.325, 48.4962, 48.5365, 0.325, 35.4962, -11.4635, 0.325, 22.4962, -48.4635, 0.325, 22.4962, -48.4635, 0.325, 35.4962, -24.4635, 0.325, 48.4962, -12.4635, 0.325, 48.4962, 24.0365, 0.325, 48.4962, 48.5365, 0.325, 35.4962, 48.5365, 0.325, 22.4962, 11.5365, 0.325, 22.4962, 12.0365, 0.325, 48.4962, 0.0364723, 0.325, 48.4962, 12.0365, 0.325, 48.4962, 11.5365, 0.325, 22.4962, -11.4635, 0.325, 22.4962, -11.4635, 0.325, 22.4962, -12.4635, 0.325, 48.4962, 0.0364723, 0.325, 48.4962)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(6, 8, 7), PackedInt32Array(9, 11, 10), PackedInt32Array(16, 15, 12), PackedInt32Array(12, 15, 13), PackedInt32Array(13, 15, 14), PackedInt32Array(21, 20, 17), PackedInt32Array(17, 20, 19), PackedInt32Array(17, 19, 18), PackedInt32Array(24, 23, 22), PackedInt32Array(26, 25, 27), PackedInt32Array(27, 25, 28), PackedInt32Array(31, 30, 29), PackedInt32Array(34, 33, 32), PackedInt32Array(36, 35, 37), PackedInt32Array(37, 35, 38), PackedInt32Array(41, 40, 39), PackedInt32Array(44, 43, 42), PackedInt32Array(48, 47, 45), PackedInt32Array(45, 47, 46), PackedInt32Array(50, 49, 51), PackedInt32Array(51, 49, 52), PackedInt32Array(54, 53, 55), PackedInt32Array(55, 53, 56), PackedInt32Array(60, 59, 57), PackedInt32Array(57, 59, 58), PackedInt32Array(63, 62, 61), PackedInt32Array(65, 64, 66), PackedInt32Array(66, 64, 67), PackedInt32Array(67, 64, 68), PackedInt32Array(71, 70, 69), PackedInt32Array(73, 72, 74), PackedInt32Array(74, 72, 75), PackedInt32Array(78, 77, 76), PackedInt32Array(81, 80, 79), PackedInt32Array(83, 82, 84), PackedInt32Array(84, 82, 86), PackedInt32Array(84, 86, 85), PackedInt32Array(89, 88, 87), PackedInt32Array(91, 90, 92), PackedInt32Array(92, 90, 93), PackedInt32Array(96, 95, 94), PackedInt32Array(100, 99, 97), PackedInt32Array(97, 99, 98), PackedInt32Array(104, 103, 101), PackedInt32Array(101, 103, 102), PackedInt32Array(108, 107, 105), PackedInt32Array(105, 107, 106), PackedInt32Array(111, 110, 109), PackedInt32Array(114, 113, 112), PackedInt32Array(117, 116, 115), PackedInt32Array(120, 119, 118), PackedInt32Array(125, 124, 121), PackedInt32Array(121, 124, 123), PackedInt32Array(121, 123, 122), PackedInt32Array(130, 129, 126), PackedInt32Array(126, 129, 127), PackedInt32Array(127, 129, 128), PackedInt32Array(132, 131, 133), PackedInt32Array(133, 131, 134), PackedInt32Array(137, 136, 135)]
sample_partition_type = 1
cell_size = 0.5
cell_height = 1.0
agent_height = 1.0
agent_radius = 1.5
edge_max_length = 23.35

[sub_resource type="BoxShape3D" id="BoxShape3D_x58i5"]
size = Vector3(100, 0.2, 100)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_a6x65"]
albedo_texture = ExtResource("5_xdlxt")
uv1_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_soirp"]
lightmap_size_hint = Vector2i(1004, 508)
add_uv2 = true
size = Vector3(100, 0.2, 100)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ky2eo"]
transparency = 1
albedo_color = Color(1, 1, 1, 0.133333)

[sub_resource type="BoxMesh" id="BoxMesh_8y1ey"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_pglwo"]
points = PackedVector3Array(0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5)

[node name="Root" type="Node"]

[node name="Player" parent="." instance=ExtResource("1_kdqto")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.44489, 2.8089, -6.44934)
script = ExtResource("2_34k83")

[node name="head" type="CollisionShape3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.355633, 0)
shape = SubResource("SphereShape3D_50b7q")
script = ExtResource("3_xnqgp")

[node name="finger" parent="Player/head" instance=ExtResource("4_8l4qb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2.14109, 0)

[node name="dither" type="MeshInstance3D" parent="Player"]
transform = Transform3D(0.59, 0, 0, 0, -2.57897e-08, -0.59, 0, 0.59, -2.57897e-08, -0.910928, 0.345835, -3.20307)
material_override = SubResource("ShaderMaterial_kxfvb")
mesh = SubResource("SphereMesh_kiplt")
skeleton = NodePath("../SubViewportContainer/SubViewport/Camera3D")

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0.337615, 2.33707, 1.74237)
light_color = Color(0.937255, 0.301961, 0, 1)
light_energy = 7.94
light_indirect_energy = 26.1
light_volumetric_fog_energy = 1.68
light_specular = 1.01
shadow_bias = 10.0
shadow_normal_bias = 1.2
shadow_reverse_cull_face = true
shadow_transmittance_bias = 4.907
shadow_blur = 10.0
distance_fade_enabled = true
distance_fade_begin = 69.7
omni_range = 40.0

[node name="Music Player" type="AudioStreamPlayer" parent="."]
autoplay = true

[node name="hydrant" parent="." instance=ExtResource("6_ncofg")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0.0307601, 3.41184, -22.6741)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_m70fh")

[node name="shooting range" parent="NavigationRegion3D" instance=ExtResource("7_wopm0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.138, 0.567618, -0.199)

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.1, 0)
collision_layer = 7
collision_mask = 7

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
shape = SubResource("BoxShape3D_x58i5")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0364709, -0.822962, -0.0038209)
material_override = SubResource("StandardMaterial3D_a6x65")
mesh = SubResource("BoxMesh_soirp")

[node name="StaticBody3D2" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2.54076)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3D2"]
transform = Transform3D(15.145, 0, 0, 0, 3.35, 0, 0, 0, 1, -3.23393, 0, -22.1638)
material_override = SubResource("StandardMaterial3D_ky2eo")
mesh = SubResource("BoxMesh_8y1ey")
skeleton = NodePath("../../StaticBody3D2")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3D2"]
transform = Transform3D(15.145, 0, 0, 0, 3.35, 0, 0, 0, 1, -3.23393, 0, -22.1638)
shape = SubResource("ConvexPolygonShape3D_pglwo")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 9.50249, 0)
light_color = Color(1, 1, 0.176471, 1)
light_energy = 5.265
light_indirect_energy = 28.5
light_volumetric_fog_energy = 12.97
light_bake_mode = 1
shadow_enabled = true
sky_mode = 2
